{
  "family": "atlas-codex-redis",
  "networkMode": "awsvpc",
  "requiresCompatibilities": ["FARGATE"],
  "cpu": "256",
  "memory": "512",
  "executionRoleArn": "arn:aws:iam::790856971687:role/atlas-codex-ecs-task-execution",
  "taskRoleArn": "arn:aws:iam::790856971687:role/atlas-codex-ecs-task",
  "containerDefinitions": [{
    "name": "redis",
    "image": "redis:7-alpine",
    "portMappings": [{
      "containerPort": 6379,
      "protocol": "tcp"
    }],
    "command": ["redis-server", "--appendonly", "yes"],
    "logConfiguration": {
      "logDriver": "awslogs",
      "options": {
        "awslogs-group": "/ecs/atlas-codex",
        "awslogs-region": "us-west-2",
        "awslogs-stream-prefix": "redis"
      }
    },
    "healthCheck": {
      "command": ["CMD-SHELL", "redis-cli ping || exit 1"],
      "interval": 30,
      "timeout": 5,
      "retries": 3
    }
  }]
}